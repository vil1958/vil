#webdav

на моем NAS:
```
http://192.168.1.2:5005
https://192.168.1.2:5006
anonymous
```

#### [WebDAV: Подключаем сетевой диск облачного хранилища в Windows 11, Windows 10 и Linux](https://www.comss.ru/page.php?id=7911)

Web Distributed Authoring and Versioning (WebDAV) – это расширение HTTP, которое обеспечивает совместный способ редактирования и управления вашими файлами на удаленном веб-сервере. В этой статье вы узнаете, как подключить диск WebDAV в [Windows 11](https://www.comss.ru/page.php?id=7911#windows11), [Windows 10](https://www.comss.ru/page.php?id=7911#windows10) и [Linux](https://www.comss.ru/page.php?id=7911#linux), для того чтобы получить доступ файлам облачного хранилища непосредственно в файловом менеджере.

#### Подключение сетевого диска по протоколу WebDAV в Windows 11

Для подключения облачного хранилища по протоколу WebDAV в Windows 11 нам необходим будет как соответствующий URL-адрес облачного сервиса, так и данные для авторизации.

Имейте в виду, что некоторые облачные сервисы, в частности Яндекс Диск и Облако Mail.ru, для подключения облачного хранилища по протоколу WebDav требуют создания отдельного пароля приложения, которое будет использоваться для авторизации. Напомним, что сервис Облако Mail.ru предоставляет доступ через WebDav только в платных тарифных планах.

##### Как создать пароль приложения для авторизации облачного хранилища Яндекс по протоколу WebDav

- Перейдите на страницу [Безопасность](https://id.yandex.ru/security), чуть ниже на странице откройте раздел **Доступ к вашим данным**, затем **Пароли приложений** – введите действующий пароль от аккаунта Яндекс.
- В появившемся окне выберите **Создать пароль приложения** – **Тип приложения** - Файлы (Webdav).

- Добавьте название для созданного пароля и затем нажмите на кнопку Создать пароль.
- Скопируйте созданный пароль.

##### Как создать пароль внешнего приложения для авторизации облачного хранилища Mail.ru по протоколу WebDav

- Перейдите на страницу [Mail ID](https://id.mail.ru/) - «Безопасность» - «[Пароли для внешних приложений](https://account.mail.ru/user/2-step-auth/passwords/)» и нажмите на кнопку **Добавить**.

- Введите название для пароля внешнего приложения, например WebDav, затем укажите действующий пароль от аккаунта Mail.ru.
- Скопируйте созданный пароль.

##### Подключаем сетевой диск по протоколу WebDAV в Windows 11
#win11

Для того чтобы подключить сетевой диск облачного хранилища по протоколу WebDAV в Windows 11 выполните следующие действия:

- В окне файлового менеджера Проводник нажмите правой кнопкой мыши по значку «Этот компьютер» – в контекстном меню -  «Показать дополнительные параметры» – в следующем окне «Подключить сетевой диск...».

- В появившемся окне, в графе «Папка» укажите URL-адрес сетевого хранилища по протоколу WebDav. Поставьте галочку на опции «Использовать другие учетные данные»:
    - Для облачного сервиса Яндекс Диск в графе «Папка» укажите следующую ссылку: `https://webdav.yandex.ru`
    - Для облачного сервиса Облако Mail.ru в графе «Папка» укажите следующую ссылку: `https://webdav.cloud.mail.ru`

- Нажмите на кнопку Готово.
- В появившемся окне укажите данные для авторизации. Где **имя пользователя** это название аккаунта (профиля, учетной записи). При подключении к облачному сервису **Облако Mail.ru** в графе имя пользователя нужно указывать **полный адрес** (адрес электронной почты). В случае использования паролей внешних приложений, в качестве **пароля** укажите сохраненный пароль внешнего приложения, а не пароль аккаунта.
- Поставьте галочку на **Запомнить учетные данные** и нажмите на кнопку ОК.
- Нажмите правой кнопкой мыши по значку «**Быстрый доступ**» , в появившемся меню выберите «Закрепить текущую папку на панели быстрого доступа».

Аналогично подключить и закрепить сетевой диск можно по протоколу WebDav от облачного хранилища Облако Mail.ru.

#### Подключение сетевого диска по протоколу WebDAV в Windows 10
#win10

Чтобы подключиться к каталогу WebDAV в Windows 10, вам понадобится URL-адрес облачного хранилища по протоколу WebDAV, данные для авторизации в вашу учетную запись.

- Откройте Проводник на своем компьютере и нажмите правой кнопкой мыши по значку «Этот компьютер».

- В открывшемся контекстном меню нажмите на «**Подключить сетевой диск...**»
- В новом диалоговом окне введите букву диска, которую вы хотите сопоставить и в опции «Папка» укажите URL-ссылку сетевого хранилища, которая работает по протоколу WebDav. Поставьте галочку на опции «Использовать другие учетные данные».

Например, для облачного хранилища [NextCloud](https://www.comss.ru/page.php?id=7890) ваша персональная ссылка доступна в левом нижнем углу веб-интерфейса облака, в окне Настройки.

Для облачного хранилища OneDrive ссылка на подключение должна содержать идентификатор.

Ссылка выглядит следующим образом:

https://d.docs.live.net/**xxxxxxxx**

Где xxxxxxxx – это идентификатор. Скопировать свой идентификатор можно в URL-адресе OneDrive. Авторизуйте в [OneDrive](https://onedrive.live.com/) , затем в адресной строке браузера скопируйте данные после знака равно.

- В следующем окне ведите учетные данные авторизации облачного хранилища.

Будет произведена авторизация и затем подключение к облачному хранилищу.

- Нажмите правой кнопкой мыши по значку «Быстрый доступ» , в появившемся меню выберите «**Закрепить текущую папку на панели быстрого доступа**».

#### Как повысить максимальный размер загружаемых файлов до 4 ГБ

По умолчанию в Windows максимальный размер файлов, которые можно пересылать по WebDAV, около 50 МБ. Чтобы повысить до 4 ГБ, выполните следующие действия:

- Редактор реестра. Откройте меню Пуск и с помощью поиска в нем откройте приложение **regedit** от имени Администратора.

- В редакторе реестра Regedit перейдите в каталог
`HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\WebClient\Parameters`

- Найдите значение **FileSizeLimitInBytes**. Нажмите правой кнопкой мыши и выберите «Изменить», а затем измените значение на **ffffffff**.

#### Что делать, если не удается подключиться к каталогу WebDAV

Если вы не можете подключиться к каталогу WebDAV, обновите базовый уровень проверки подлинности в реестре Windows.

- Редактор реестра. Откройте меню Пуск и с помощью поиска в нем откройте приложение **regedit** от имени Администратора.
- В редакторе реестра Regedit перейдите в каталог
`HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\WebClient\Parameters`

- Найдите значение **BasicAuthLevel**. Нажмите правой кнопкой мыши и выберите «Изменить», а затем измените значение на **2**.

#### Подключение сетевого диска по протоколу WebDAV в Linux
#linux 

Рассмотрим два способа подключения WebDav в Linux.

**Примечание**. OneDrive не поддерживает подключение по протоколу davs в Linux.

#### Первый способ. Подключение из файлового менеджера

- Откройте файловый менеджер. В зависимости от файлового менеджера расположение опции для подключения может отличаться. Затем, например в файловом менеджере Nemo нажмите на **Файл > Подключение к серверу**.

- В следующем окне выберите протокол WebDav (если поддерживает облако, то WebDav c шифрованием https).
- Введите данные для авторизации на облачном хранилище. Ссылка на подключение должна быть по типу:
`davs://название домена.com/remote.php/dav/files/имя`

В зависимости от облачного хранилища ссылка может отличаться, но в любом случае в ссылке ввместо http (https) должен быть указан протокол davs.

#### Второй способ. Монтирование сетевого диска по протоколу WebDav

- Устанавливаем пакет davfs2:
`sudo apt install davfs2`

Во время установки вас спросят, хотите ли вы, чтобы непривилегированным пользователям было разрешено монтировать ресурсы WebDAV. Выберите Да.

- Создаем папку в которую будем монтировать сетевой диск и папку для хранения конфигурации:
```
cd
mkdir nextcloud
mkdir .davfs2
```

Вместо папки nextcloud можно указать свое название.

- Продолжаем:
`sudo cp /etc/davfs2/secrets ~/.davfs2/secrets`

- Ограничиваем права доступа к папке для только владельца:
```
sudo chown имя пользователя:имя пользователя ~/.davfs2/secrets
sudo chmod 600 ~/.davfs2/secrets
```

- Редактируем файл secrets:
`nano ~/.davfs2/secrets`

В конце файла нужно вставить ссылку на подключение и данные для авторизации. Пример для подключения облака NextCloud:
`https://название домена.com/remote.php/dav/files/имя пользователя nextcloud/  имя_пользователя пароль`

- Редактируем таблицу файловой системы:
`sudo nano /etc/fstab`

В конце файла добавляем ссылку на подключения с именем и паролем и конфигурацией монтирования. Пример для подключения к NextCloud:
`https://название домена.com/remote.php/dav/files/мя пользователя nextcloud/ /home/имя пользователя системы/nextcloud davfs user,rw,auto 0 0`

- Добавляем себя в группу davs2:
`sudo gpasswd -a y имя davfs2`

- Команда монтирования диска:
`mount ~/nextcloud`

- Команда для размонтирования:
`umount ~/nextcloud`

Где nextcloud – это ваша папка названия сетевого диска (этап 2 в данной инструкции).

#### [Как получить доступ к файлам на Synology NAS с помощью WebDAV?](https://kb.synology.com/ru-ru/DSM/tutorial/How_to_access_files_on_Synology_NAS_with_WebDAV)
#synology #nas
WebDAV - это расширение протокола HTTP, которое позволяет пользователям управлять файлами, хранящимися на удаленном сервере. В этой статье объясняется, как включить WebDAV на Synology NAS и получить доступ к файлам прямо с компьютера.

## Содержание

- [Перед началом работы](https://kb.synology.com/ru-ru/DSM/tutorial/How_to_access_files_on_Synology_NAS_with_WebDAV#x_anchor_id4)
- [Включение WebDAV на Synology NAS](https://kb.synology.com/ru-ru/DSM/tutorial/How_to_access_files_on_Synology_NAS_with_WebDAV#x_anchor_id5)
- [Доступ из Windows 7/8/10](https://kb.synology.com/ru-ru/DSM/tutorial/How_to_access_files_on_Synology_NAS_with_WebDAV#x_anchor_id6)
- [Доступ с Mac](https://kb.synology.com/ru-ru/DSM/tutorial/How_to_access_files_on_Synology_NAS_with_WebDAV#x_anchor_id7)
- [Доступ из Ubuntu](https://kb.synology.com/ru-ru/DSM/tutorial/How_to_access_files_on_Synology_NAS_with_WebDAV#x_anchor_id9)
- [Что необходимо знать перед использованием функции сопоставления сетевого диска в Windows](https://kb.synology.com/ru-ru/DSM/tutorial/How_to_access_files_on_Synology_NAS_with_WebDAV#x_anchor_id10)

## Решение

### Перед началом работы

В данной статье предполагается, что вы уже выполнили следующие действия:

- Настройте Synology NAS. [1](https://kb.synology.com/ru-ru/DSM/tutorial/How_to_access_files_on_Synology_NAS_with_WebDAV#x_anchor_id11)
- Установили DiskStation Manager (DSM) на Synology NAS.
- Настроили Synology NAS для доступа через Интернет (см. [Эту статью](https://kb.synology.com/ru-ru/DSM/tutorial/How_to_make_Synology_NAS_accessible_over_the_Internet) ). [2](https://kb.synology.com/ru-ru/DSM/tutorial/How_to_access_files_on_Synology_NAS_with_WebDAV#x_anchor_id12)

### Включение WebDAV на Synology NAS

1. Войдите в DSM с учетной записью, принадлежащей группе **administrators**.
2. Перейдите в **Центр пакетов,** чтобы установить **WebDAV Server**.
3. Запустите **WebDAV Server** и установите флажки **Включить HTTP** и **Включить HTTPS**. Вы можете настроить номер порта в соответствии с вашими потребностями. Рекомендуется использовать безопасное подключение HTTPS для доступа к Synology NAS.
4. Сохраните настройки.
5. После включения службы WebDAV на устройстве Synology NAS следуйте приведенным ниже инструкциям, чтобы получить доступ к файлам с устройств Windows, Mac или Linux. [3](https://kb.synology.com/ru-ru/DSM/tutorial/How_to_access_files_on_Synology_NAS_with_WebDAV#x_anchor_id13)

### Доступ из Windows 7/8/10
#win10 
Для пользователей Windows рекомендуется использовать RaiDrive и Cyberduck. Эти два приложения для сопоставления дисков позволяют получать доступ к папкам NAS, как если бы они находились на локальном диске. Кроме того, они бесплатны для некоммерческого использования.

Если вы хотите использовать функцию **сопоставления сетевого диска** Windows для доступа к файлам, хранящимся на Synology NAS, см. Раздел [Что необходимо знать перед использованием функции сопоставления сетевого диска Windows](https://kb.synology.com/ru-ru/DSM/tutorial/How_to_access_files_on_Synology_NAS_with_WebDAV#x_anchor_id10) для получения подробных инструкций.

**Использование RaiDrive**

1. Скачайте, установите и запустите RaiDrive.
2. Нажмите **Добавить** на верхней панели инструментов и перейдите на вкладку **NAS**.  
    ![](https://kb.synology.com/_images/autogen/How_to_access_files_on_Synology_NAS_with_WebDAV/1.png)
3. Введите следующую информацию:
    - **Хранилище** : выберите **Synology**.
    - **Диск**. Выберите букву сетевого диска в раскрывающемся меню.
    - **Адрес** : введите IP -адрес или имя хоста Synology NAS.
    - **Порт**. Введите 5006 или порт, указанный для WebDAV на устройстве Synology NAS .
    - **Учетная запись** : введите учетную запись и пароль DSM.
4. Нажмите **OK**. Теперь в Проводнике Windows должны появиться общие папки на Synology NAS . [4](https://kb.synology.com/ru-ru/DSM/tutorial/How_to_access_files_on_Synology_NAS_with_WebDAV#x_anchor_id14)  
    ![](https://kb.synology.com/_images/autogen/How_to_access_files_on_Synology_NAS_with_WebDAV/2.jpeg)

**Использование Cyberduck**

1. Скачайте, установите и запустите Cyberduck.
2. Нажмите **Открыть подключение**.  
    ![](https://kb.synology.com/_images/autogen/How_to_access_files_on_Synology_NAS_with_WebDAV/3.png)
3. Выберите **WebDAV (HTTPS)** в раскрывающемся меню.
4. Введите следующую информацию:
    - **Сервер** : введите IP -адрес или имя хоста Synology NAS.
    - **Порт**. Введите 5006 или порт, указанный для WebDAV на устройстве Synology NAS.
    - **Имя пользователя** и **пароль** : введите учетные данные учетной записи DSM.  
        ![](https://kb.synology.com/_images/autogen/How_to_access_files_on_Synology_NAS_with_WebDAV/4.png)
5. Нажмите **Подключиться**. Теперь в Cyberduck должны появиться общие папки на Synology NAS .  
    ![](https://kb.synology.com/_images/autogen/How_to_access_files_on_Synology_NAS_with_WebDAV/5.png)

### Доступ с Mac
#mac
Пользователям Mac рекомендуется использовать Finder или Cyberduck для подключения к Synology NAS через WebDAV .

**Использование Finder**

1. Нажмите **Перейти** > **Подключиться к серверу** на панели меню.  
    ![](https://kb.synology.com/_images/autogen/How_to_access_files_on_Synology_NAS_with_WebDAV/6.png)
2. Введите IP -адрес или имя домена Synology NAS с префиксом «https: //» и «: 5006» (или другим номером порта, указанным при включении службы WebDAV ).  
    ![](https://kb.synology.com/_images/autogen/How_to_access_files_on_Synology_NAS_with_WebDAV/7.png)
3. Нажмите **Подключиться**.
4. Введите имя пользователя и пароль DSM в полях **Имя** и **Пароль**. Нажмите **Подключиться**.  
    ![](https://kb.synology.com/_images/autogen/How_to_access_files_on_Synology_NAS_with_WebDAV/8.png)
5. Теперь в Finder должны появиться общие папки на Synology NAS . Вы также можете найти устройство Synology NAS и его общие папки в разделе **Местоположение** на боковой панели.  
    ![](https://kb.synology.com/_images/autogen/How_to_access_files_on_Synology_NAS_with_WebDAV/9.png)

**Использование Cyberduck**

1. Скачайте, установите и запустите Cyberduck.
2. Нажмите **Открыть подключение**.  
    ![](https://kb.synology.com/_images/autogen/How_to_access_files_on_Synology_NAS_with_WebDAV/10.png)
3. Выберите **WebDAV (HTTPS)** в раскрывающемся меню.
4. Введите следующую информацию:
    - **Сервер** : введите IP -адрес или имя хоста Synology NAS.
    - **Порт**. Введите 5006 или порт, указанный для WebDAV на устройстве Synology NAS.
    - **Имя пользователя** и **пароль** : введите учетные данные учетной записи DSM.  
        ![](https://kb.synology.com/_images/autogen/How_to_access_files_on_Synology_NAS_with_WebDAV/11.png)
5. Нажмите **Подключиться**. Теперь в Cyberduck должны появиться общие папки на Synology NAS .  
    ![](https://kb.synology.com/_images/autogen/How_to_access_files_on_Synology_NAS_with_WebDAV/12.png)

### Доступ из Ubuntu
#linux 

1. Перейдите в **Проводник** (или в **Файлы** ).
2. Нажмите **Подключиться к серверу** в строке меню.
3. Введите **Адрес сервера** и нажмите **Подключиться**. Если протокол HTTP не распознается, перейдите на протокол DAV.  
    ![](https://kb.synology.com/_images/autogen/How_to_access_files_on_Synology_NAS_with_WebDAV/13.png)
4. Введите свои учетные данные и нажмите **Подключиться**.  
    ![](https://kb.synology.com/_images/autogen/How_to_access_files_on_Synology_NAS_with_WebDAV/14.png)
5. Теперь в Проводнике должны появиться общие папки на Synology NAS .  
    ![](https://kb.synology.com/_images/autogen/How_to_access_files_on_Synology_NAS_with_WebDAV/15.png)

### Что необходимо знать перед использованием функции сопоставления сетевого диска в Windows

Чтобы использовать функцию сопоставления **сетевого диска** Windows, сначала необходимо получить действительный сертификат SSL для доступа к Synology NAS по соединению HTTPS. Необходимо экспортировать сертификат с устройства NAS и впоследствии импортировать его на клиентское устройство.

1. Войдите в DSM с учетной записью, принадлежащей группе **administrators**.
2. Запустите **WebDAV Server** и убедитесь, что установлен **флажок Включить HTTPS**.
3. Выберите **Панель управления** > **Безопасность** > **Сертификат**, чтобы добавить и экспортировать сертификат. Подробные инструкции по добавлению сертификата см. В [этой статье](https://kb.synology.com/ru-ru/DSM/tutorial/How_to_enable_HTTPS_and_create_a_certificate_signing_request_on_your_Synology_NAS).
4. Импортируйте сертификат на клиентское устройство. Подробные инструкции см. В официальной документации по клиентскому устройству.

Примечания.

1. Для получения информации о настройке оборудования и программного обеспечения см. Руководство по установке оборудования и Руководство пользователя Synology NAS . Оба документа доступны в [Центре загрузок](https://www.synology.com/ru-ru/support/download).
2. Если вы хотите получить удаленный доступ к Synology NAS через WebDAV , убедитесь, что на маршрутизаторе настроена переадресация портов.
3. Рекомендуется использовать клиент WebDAV с поддержкой UTF-8 , чтобы избежать ошибок кодировки при использовании служб WebDAV .
4. Из-за ограничений WebDAV при использовании RaiDrive для сопоставления диска информация о свободном пространстве на диске всегда будет ошибочно отображаться как **7,99 ЭБ**.
5. Функция блокировки файлов доступна на [RaiDrive Professional Edition](https://docs.raidrive.com/options/filelock/) и [Mountain Duck](https://docs.cyberduck.io/mountainduck/locking/). Также можно бесплатно использовать macOS Finder или сетевые диски Windows.
