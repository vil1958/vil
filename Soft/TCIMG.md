http://tcimg.dreamlair.net/TCIMG_ONLINE/html/html/add/add_lines.htm#&*

http://forum.ru-board.com/topic.cgi?forum=5&bm=1&topic=50714&start=2020#lt

Помогите с кнопкой - в файлах ini активной панели произвести замену строк по образцу из C:\Сhange.txt.

в TCIMG есть функционал Поиск и замена с регулярными выражениями по списку:
 http://tcimg.dreamlair.net/TCIMG_ONLINE/html/html/add/add_lines.htm#&*

Пример моей кнопки:
%COMMANDER_PATH%\bin\TCIMG\TCIMG.exe
textt=PS<"%P"//1//-1//*.ini>||&*G:\distrib\WWW\downloader\FreeHosting\USDownloader\Vil\!Replace_ini\Repl.txt||upd<1>
%COMMANDER_PATH%\Wcmicons.dll
В содержимом файлов ini активной панели (с рекурсией) произвести поиск и замену по списку регулярных выражений из файла Repl.txt

содержимое файла Repl.txt:
(\R+)SaveTo=.*||${1}SaveTo=E:\\Downloads\\
(\R+)SaveToItems=.*||${1}SaveToItems=E:\\Downloads\\
(\R+)DefaultSaveToFolder=.*||${1}DefaultSaveToFolder=E:\\Downloads\\
(\R+)RunLink=.*||${1}RunLink=D:\\bin\\WWW\\Downloader\\IDM\\IDMan.exe /n /d %url% /p %todir% /a
(\R+)ProxyList=.*||${1}ProxyList=D:\\_T\\bin\\www\\Downloader\\FreeHosting\\ProXY\\good_proxylist.txt
(\R+)SaveTXT=.*||${1}SaveTXT=1
(\R+)IONHidden=.*||${1}IONHidden=1
(\R+)AlwaysSave=.*||${1}AlwaysSave=0
(\R+)IONinDOS=.*||${1}IONinDOS=0
(\R+)DeleteSuccess=.*||${1}DeleteSuccess=0
(\R+)TryToRotation=.*||${1}TryToRotation=7
(\R+)Address=.*||${1}Address=127.0.0.1
(\R+)Port=.*||${1}Port=8080

*****
Поиск и замена с регулярными выражениями по списку http://tcimg.dreamlair.net/TCIMG_ONLINE/html/html/add/add_lines.htm#&*
	&*Parameters
	Parameters - FilePath(|Section) , где:
	Section - [необязательный] если в файле пары прописаны в секции,
	 то указывается имя секции (в ином случае прописывается символ #) (по умолчанию без секции).

	  FilePath - путь к файлу списка (обязательный параметр, остальные необязательные).
		В списке должны быть прописаны пары поиска и замены, разделённые "||" .
		Каждая пара с новой строки.
		В файле могут использоваться комментарии, но в них НЕ должно быть двух подряд вертикальных черт (труб).
		Если замена не прописана, то происходит удаление строки поиска.
		В замене можно использовать теги "@CRLF", "@CR", "@LF", "@TAB" означающие переносы строки и табуляцию.
	  $GLOBALNAME2D - может использоваться для передачи данных 2D массив из 2-х колонок, в котором:
		в 0-й колонке в ячейках регулярное выражение для поиска.
		в 1-й колонке в соответствующих ячейках данные для замены.
	Пример записи:
	найти||заменить
	; правильный комментарий
	\d+||$1xx
	; НЕПРАВИЛЬНЫЙ || комментарий
	(?i)[a-z]+||
	.+||$0@CRLFline
	
	^^BeginLine
	 Вставка в начало.
	 Если фраза вначале или после разделителя || начинается с ^^, то последующая строка параметра будет вставлена в начало.

	$$EndLine
	 Вставка в конец. Если фраза вначале или после разделителя || начинается с $$, то последующая строка параметра будет вставлена в конец.

	??N(Pattern!!Replace)
	Изменение регистра символов. Если фраза вначале или после разделителя || начинается с ??, то последующая цифра будет означать:
	  1 - перевести символы во "все строчные".
	  2 - во "ВСЕ ЗАГЛАВНЫЕ".
	  3 - "Как в предложении".
	  7 - "Как в предложении" (обрабатывается построчно).
	  4 - "Начало Слов С Заглавной" (обрабатывается построчно).
	  8 - "Начало Слов С Заглавной (Перед *Любым #Символом)" (обрабатывается построчно).
	  5 - "Инвертировать регистр символов".
	  6 - оставить как есть. Указывается при изменение регистра в других параметрах.
	 11 - перевести символы в верхний и нижний регистр случайным образом.
	 12 - перевести символы в верхний и нижний регистр чередованием.
	 
	 Для того, чтобы произвести данное действие над частью строки, используется регулярное выражение идущее после цифры, где:
	 Pattern - строка регулярных выражений, образец для поиска (шаблон)
	 Replace - строка замены регулярного выражения. Чтобы вставить текст группы используйте, \0 - \9 (или $0 - $9)
	 как обратную ссылку
	 Если в строке отсутствует !!Replace ,
	 то будет произведён поиск всех фраз по шаблону Pattern и изменён их регистр относительно первого параметра ??N
	
	@@Translit(!!1)
	 Транслитерация. Если фраза вначале или после разделителя || начинается с @@,
	 то последующая строка параметра будет означать ИМЯ шаблона транслита.
	 В текущей строке заданные символы (фразы) шаблона, прописанные в ключе Source_Name
	 заменяются соответствующими символами (фразами), прописанными в ключе Target_Name
	 Шаблоны настраиваются в секции [Translit] в TCIMG.ini.
	 В некоторых шаблонах, чтобы избежать (пересекающихся с шаблоном) ошибочных замен,
	 необходима двойная обработка, когда искомые фразы заменяются специальным набором, а затем соответствующими заменами.
	 Для двойной обработки необходимо прописать к имени шаблона !!1

	##FullReplace
	 Замещение. Если фраза вначале или после разделителя || начинается с символов ##,
	 то последующей строкой FullReplace параметра будет замещена существующая строка.
	 
	#?FullReplace
	 Замещение с условием. Если фраза вначале или после разделителя || начинается с символов #?,
	 то последующей строкой FullReplace параметра будет замещена существующая строка, если FullReplace не пустая строка.

	
	
***** 
 
Я не стал выдумывать - изменил ваш файл под это дело...
Тем более сегодня вам нужно изменить ключ ini, завтра фразу,
 послезавтра слово/число... - рег. выражения подходят как уникальное решение.
И в вашем файле непонятно что менять либо всю фразу "music=" во всём документе,
 или если она только с начала строки... и.т.д.
 
Код:
TOTALCMD#BAR#DATA
%COMMANDER_PATH%\TCIMG.exe
textt=%P%N||&*C:\Repl.txt||upd<1>
%COMMANDER_PATH%\Wcmicons.dll,1
;;В содержимом текстового файла под курсором произвести поиск и замену по списку регулярных выражений из файла Repl.txt
 
0
-1

Формат C:\Repl.txt
Код:
(\R+)(music=.*)||${1}music=D:\\Video\\Конвертированное\\Муз
(\R+)(snapshot=.*)||${1}snapshot=D:\\Video\\Конвертированное\\Archos\\Snapshot
(\R+)(video=.*)||${1}video=D:\\Video\\Конвертированное
(\R+)(document=.*)||${1}document=D:\\Video\\Конвертированное\\Documents
(\R+)(image=.*)||${1}image=C:\\Windows\\Temp\\temp_image
(\R+)(download=.*)||${1}download=D:\\Download\\Видео
(\R+)(download_music=.*)||${1}download_music=D:\\Download\\Музыка\\Муз
(\R+)(openFolder=.*)||${1}openFolder=false

Спасибо Andrey_A_A! Но мне нужна кнопка [?] не "В содержимом текстового файла под курсором",
 а "В содержимом файлов ini активной панели". Подправил себе кнопку так:

 В первой строке файла C:\Сhange.txt, строки начинающиеся скажем на "music=".
 Такие строки в файлах ini активной панели надо заменять на строку образец которой находится во второй строке файла C:\Сhange.txt,
 в третьей строке файла C:\Сhange.txt образец начинающейся скажем на "snapshot=",
 в четвёртой строке файла C:\Сhange.txt строка на которую надо поменять эту строку и т.д.
 Не все образцы строк могут содержать одно слово заканчивающеяся на "=",
 а скажем образец может быть и такой "LastDirectory=\Shared Folder\"
 но везде за строкой с образцом, следует строка на которую надо менять.
В содержимом файлов ini активной панели (с рекурсией) произвести поиск и замену
 по списку регулярных выражений из файла Repl.txt

`textt=PS<"%P"//1//-1//*.ini>||&*C:\Repl.txt||upd<1>` ;; В содержимом файлов ini активной панели (с рекурсией) произвести поиск и замену по списку регулярных выражений из файла Repl.txt

===============================

Параметр

Описание

Search!!Replace!!N!!R  
  
==Search!!Replace!!N!!R

**Поиск и замена**. **Search** - "что искать" и **Replace** - "чем заменять" разделяются !!  
Для поиска или замены фразы из файла используется подпараметр [rfile=**Path**] или <rfile=**Path**>, где **Path** - полный путь к файлу.  
**N** - [необязательный] Количество выполняемых замен. Используется отрицательное число, чтобы выполнить замену справа.  
**R** - [необязательный] Флаг установки чувствительности к регистру. 0 - не учитывать регистр (по умолчанию); 1 - учитывать регистр ; 2 - не учитывать регистр, используется основное / быстрое сравнение; 0 = выполнить замену всех найденных строк (по умолчанию)  
Возможно использование параметра **rndm**[Number|...] см. Дополнение [**№30**](http://tcimg.dreamlair.net/TCIMG_ONLINE/html/html/add/add_randms.htm).

---

Если фраза поиска или замены начинается с #P, то относительный путь (последующая строка) будет переведён в абсолютный.  
Если фраза поиска или замены начинается с #PS, то относительный путь (последующая строка) будет переведён в абсолютный, в котором слеш заменяется двойным.

---

т.к. в Search (поиск) в начало могут попасть специальные символы, которые используются в утилите (##, ??, **, $$, и.т.д), то в таких случаях перед строкой добавляется **==**

&&Pattern!!Replace!!N

**Поиск и замена с регулярным выражением**. см. Дополнение [**№2**](http://tcimg.dreamlair.net/TCIMG_ONLINE/html/html/add/add_regexp.htm)  
Если фраза вначале или после разделителя || начинается с &&, то последующая строка параметра разделённая символами !! означает поиск и замену с регулярными выражениями, где:  
  **Pattern** - строка регулярного выражения, образец для поиска (шаблон)  
  **Replace** - строка замены регулярного выражения. Чтобы вставить текст группы используйте, \0 - \9 (или $0 - $9) как обратную ссылку.  
  **N** - [необязательный] количество замен в строке. По умолчанию 0 - выполняет замену всех найденных образцов.

&?Pattern!!Flag!!N!!Delim

**Поиск с регулярным выражением.** см. Дополнение [**№2**](http://tcimg.dreamlair.net/TCIMG_ONLINE/html/html/add/add_regexp.htm)  
  **Pattern** - строка регулярного выражения, образец для поиска (шаблон).  
    Если pattern начинается с **??**Key то регулярное выражение берётся TCIMG.ini из секции [FormatUser] из ключа Key  
  **Flag** - [необязательный] режим поиска:  
    0 - возвращается 1, если совпадение найдено или 0, если не найдено.  
    1 - поиск до первого совпадения, возвращается полное совпадение с шаблоном.  
    3 - возвращаются все совпадения, разделённые переносом строки (по умолчанию).  
   Для получения заданных совпадений, прописываются номера или диапазоны номеров через запятую:  
    **a**K1,K2,...,N1:M1,...,N2:M2 - найти совпадения заданных номеров.  
    **b**K1,K2,...,N1:M1,...,N2:M2 - найти совпадения, кроме заданных номеров.  
      • a и b обязательные символы, которые прописываются в начале.  
      • K1,K2,... - числа; N1:M1 - диапазоны чисел.  
      • числа и диапазоны могут располагаться в любом порядке (для a - это будет определять последовательность полученных совпадений).  
      • при отрицательных числах отсчёт ведётся с конца.  
  **N** - [необязательный] позиция строки, начиная с которой будут искаться совпадения (по умолчанию 1).  
  **Delim** - [необязательный] разделитель (символ или строка) между найденными совпадениями (по умолчанию перенос строки).

---

При Flag=1 и Flag=3, если ничего не найдено, возвращается пустая строка.

?#Search**1****¤**...**¤**Search**N**

**Поиск по нескольким регулярным выражениям и последовательное объединение полученных данных.** см. Дополнение [**№2**](http://tcimg.dreamlair.net/TCIMG_ONLINE/html/html/add/add_regexp.htm)  
**Search** - может быть 2-х вариантов:  
  **1**. Pattern!!Flag!!N!!Delim  
    **Pattern** - строка регулярного выражения, образец для поиска (шаблон).  
    **Flag** режим поиска:  
      0 - возвращается 1, если совпадение найдено или 0, если не найдено.  
      1 - поиск до первого совпадения, возвращается полное совпадение с шаблоном.  
      3 - возвращаются все совпадения, разделённые переносом строки.  
    **N** - [необязательный] позиция строки, начиная с которой будут искаться совпадения (по умолчанию 1).  
    **Delim** - [необязательный] разделитель (символ или строка) между найденными совпадениями (по умолчанию перенос строки).

---

При Flag=1 и Flag=3, если ничего не найдено, возвращается пустая строка.  
  
  **2**. Если в Search нет разделителя **!!**, то строка является вставкой между данными предыдущего и последующего поиска.

&#Pattern!!List!!Count

**Поиск с регулярным выражением и последовательная замена по списку.** см. Дополнение [**№2**](http://tcimg.dreamlair.net/TCIMG_ONLINE/html/html/add/add_regexp.htm)  
  **Pattern** - строка регулярного выражения, образец для поиска (шаблон).  
    Если pattern начинается с ??Key то регулярное выражение берётся TCIMG.ini из секции [FormatUser] из ключа Key  
  **List** - список строк для поиска, возможны варианты:  
    String - строка фраз для замены, прописанных через разделитель **|**.  
    File - путь к файлу со списком строк для замены.  
    $GLOBALNAME - список строк из глобального массива.  
  **Count** - [необязательный]  
    0 - замены производятся по кругу строк из списка List (по умолчанию).  
    1 - замены производятся пока не закончатся строки в списке List.  
    N>1 - производятся N последовательных замен.

&*Parameters

**Поиск и замена с регулярными выражениями по списку**. см. Дополнение [**№2**](http://tcimg.dreamlair.net/TCIMG_ONLINE/html/html/add/add_regexp.htm)  
Parameters - **FilePath**(**|****Section**) , где:  
  
  **FilePath** - путь к файлу списка (обязательный параметр, остальные необязательные).  
    В списке должны быть прописаны пары поиска и замены, разделённые "**||**" .  
    Каждая пара с новой строки.  
    В файле могут использоваться комментарии, но в них НЕ должно быть двух подряд вертикальных черт (труб).  
    Если замена не прописана, то происходит удаление строки поиска.  
    В замене можно использовать теги "@CRLF", "@CR", "@LF", "@TAB" означающие переносы строки и табуляцию.  
  **$GLOBALNAME2D** - может использоваться для передачи данных 2D массив из 2-х колонок, в котором:  
    в 0-й колонке в ячейках регулярное выражение для поиска.  
    в 1-й колонке в соответствующих ячейках данные для замены.  

Пример записи:

найти**||**заменить  
; правильный комментарий  
\d+**||**$1xx  
; НЕПРАВИЛЬНЫЙ || комментарий  
(?i)[a-z]+**||**  
.+**||**$0@CRLFline  

  **Section** - [необязательный] если в файле пары прописаны в секции, то указывается имя секции (в ином случае прописывается символ **#**) (по умолчанию без секции).  

^^BeginLine

**Вставка в начало**. Если фраза вначале или после разделителя || начинается с ^^, то последующая строка параметра будет вставлена в начало.

$$EndLine

**Вставка в конец**. Если фраза вначале или после разделителя || начинается с $$, то последующая строка параметра будет вставлена в конец.

??N(Pattern!!Replace)

**Изменение регистра символов**. Если фраза вначале или после разделителя || начинается с ??, то последующая цифра будет означать:  
  1 - перевести символы во "все строчные".  
  2 - во "ВСЕ ЗАГЛАВНЫЕ".  
  3 - "Как в предложении".  
  7 - "Как в предложении" (обрабатывается построчно).  
  4 - "Начало Слов С Заглавной" (обрабатывается построчно).  
  8 - "Начало Слов С Заглавной (Перед *Любым #Символом)" (обрабатывается построчно).  
  5 - "Инвертировать регистр символов".  
  6 - оставить как есть. Указывается при изменение регистра в других параметрах.  
 11 - перевести символы в верхний и нижний регистр случайным образом.  
 12 - перевести символы в верхний и нижний регистр чередованием.

---

Для того, чтобы произвести данное действие над частью строки, используется регулярное выражение идущее после цифры, где:  
  **Pattern** - строка регулярных выражений, образец для поиска (шаблон)  
  **Replace** - строка замены регулярного выражения. Чтобы вставить текст группы используйте, \0 - \9 (или $0 - $9) как обратную ссылку.  
см. Дополнение [**№2**](http://tcimg.dreamlair.net/TCIMG_ONLINE/html/html/add/add_regexp.htm).  

---

Если в строке отсутствует **!!Replace** , то будет произведён поиск всех фраз по шаблону **Pattern** и изменён их регистр относительно первого параметра ??N

@@Translit(!!1)

**Транслитерация**. Если фраза вначале или после разделителя || начинается с @@, то последующая строка параметра будет означать ИМЯ шаблона транслита.  
В текущей строке заданные символы (фразы) шаблона, прописанные в ключе Source_Name заменяются соответствующими символами (фразами), прописанными в ключе Target_Name  
Шаблоны настраиваются в секции [**Translit**] в [**TCIMG.ini**](http://tcimg.dreamlair.net/TCIMG_ONLINE/html/config.htm#Translit).  

---

В некоторых шаблонах, чтобы избежать (пересекающихся с шаблоном) ошибочных замен, необходима двойная обработка, когда искомые фразы заменяются специальным набором, а затем соответствующими заменами.  
Для двойной обработки необходимо прописать к имени шаблона **!!1**

##FullReplace

**Замещение**. Если фраза вначале или после разделителя || начинается с символов ##, то последующей строкой **FullReplace** параметра будет замещена существующая строка.

#?FullReplace

**Замещение с условием**. Если фраза вначале или после разделителя || начинается с символов #?, то последующей строкой **FullReplace** параметра будет замещена существующая строка, если FullReplace не пустая строка.

#LString(|Mode)  
  
#L**#**String(~Mode)  
  
#L**@**String(~Mode)

**Извлечение строк**. Если фраза вначале или после разделителя || начинается с #L, то последующая строка **String** будет означать номер или список номеров извлекаемых строк, может иметь несколько вариантов:  

---

**1)** #LString(|Mode)  
  String - получение строк заданных номеров  
  N - номер строки.  
  N1,N2,...NN - список номеров, прописанных через запятую  
  N:M - диапазон строк. (M:N - обратный диапазон)  
  N:M,N1:M1...NN,MM - список номеров диапазонов (прямых и обратных).  
При отрицательных значениях строки извлекаются относительно последней строки.  

---

**2)** #L**#**String(~Mode)  
  String - получение строк кроме заданных номеров  
  принцип такой же как описан в варианте 1.  

---

**3)** #L**@**String(~Mode)   String - получение строк чередующихся номеров, где String:  
  @Start|End|Step|InArow  
      Start - минимальное значение диапазона.  
      End - максимальное значение диапазона (при -1 все строки до конца).  
      Step - шаг чередования (по умолчанию 1).  
      InArow - количество подряд номеров (по умолчанию 1).  
  
**Mode** [необязательный] - удаление пустых строк:  
  0 - не удалять пустые строки (по умолчанию)  
  1 - удалять пустые строки перед извлечением строк  
  2 - удалять пустые строки после извлечения строк  
  
При #L0 возвращается 0 так как нулевой строки не существует.

#GNumber

**Удаление пробельных символов в строке**. Если фраза вначале или после разделителя || начинается с #G, то последующий номер **Number** будет означать режим удаления пробелов в строке:  
**Number** может быть суммой следующих флагов:  
  1 = удаляет пробельные символы в начале строки  
  2 = удаляет пробельные символы в конце строки  
  4 = удаляет повтор (или многократный повтор) пробельных символов в строке  
  8 = удаляет все пробельные символы (не требуется суммировать флаги)  
Пробельные символы включают в себя Chr(9), Chr(10), Chr(11), Chr(12), Chr(13), Chr(32), которые являются - табуляция, перевод строки, вертикальная табуляция, перевод страницы, возврат каретки и обычный пробел соответственно. А также символ Chr(0).

#V  
#VS  
#VW

**Реверс строки**. Если фраза вначале или после разделителя || начинается с #V, то в текущей строке будет произведено изменение порядка символов на обратный.  
#VS - построчный реверс (т.е. каждая строка обрабатывается отдельно).  
#VW - пословный реверс (т.е. каждое слово обрабатывается отдельно).

#KCount~Delim!!String  
#KMin**:**Max~Delim!!String

**Дублирование строки**. Если фраза вначале или после разделителя || начинается с #K, то заданная строка **String** будет размножена **Count** раз.  
  
Параметр #KCount~Delim1~Mode~Delim2!!String  
  **Count** - число: количество дубликатов.  
    - могут использоваться математические действия.  
    - может быть случайным числом из диапазона Min:Max, Min - минимальное число, Max - максимальное.  
  **Delim1** - [необязательный] разделитель между дубликатами строк.  
    - по умолчанию **-1** разделителя нет.  
  **Mode** - режим:  
    0 - заменяется текущая строка (по умолчанию).  
    1 - вставляется в конец текущей строки через разделитель Delim2.  
    2 - вставляется в начало текущей строки через разделитель Delim2.  
  **Delim2** - [необязательный] разделитель в режиме Mode=1 и Mode=2 (по умолчанию разделителя нет).  

---

    - Если String не указан, то дублируется текущая строка.  
    - В Delim1 и Delim2 могут использоваться функции Autoit.

---

  Так же может быть задействована структура, позволяющая вставлять счётчик при дублировании строки:  
  #KCount|Symbol|Begin|Step!!String  
  #KMin**:**Max|Symbol|Begin|Step!!String  
    Symbol - символ или строка, которая будет заменена счётчиком.  
    Begin - начальное число счётчика.  
    Step - шаг счётчика.

?KCountV|CountG|Delim

**Дублирование строк**. Если фраза вначале или после разделителя || начинается с ?K, то каждая строка будет размножена.  
  **CountV** - количество получаемых строк каждой строки.  
    (отсчёт с 2-х, при 1 дублирования не происходит).  
  **CountG** - [необязательный] количество получаемых строк каждой строки горизонтально.  
    (отсчёт с 2-х, при 1 дублирования не происходит).  
  **Delim** - [необязательный] разделитель между горизонтальными дубликатами строк (по умолчанию разделителя нет).  

---

  - В CountV и CountG могут использоваться математические действия.  
  - В Delim могут использоваться функции Autoit.

?FParameters

**Преобразование с помощью шаблонов**.  
  Если фраза вначале или после разделителя || начинается с ?F, то в последующей строке параметра **Parameters** прописываются имена шаблонов для преобразования аналогично параметру formt<>, см. Дополнение [**№15**](http://tcimg.dreamlair.net/TCIMG_ONLINE/html/html/add/add_format.htm)

#SParameters

**Преобразование с помощью шаблонов**.  
  Если фраза вначале или после разделителя || начинается с #S, то в последующей строке параметра **Parameters** прописываются имена шаблонов для преобразования аналогично параметру formt<>, см. Дополнение [**№15**](http://tcimg.dreamlair.net/TCIMG_ONLINE/html/html/add/add_format.htm)  
  Отличается от параметра **?F** тем, что работает при использовании параметра [double] в командах [**renms**](http://tcimg.dreamlair.net/TCIMG_ONLINE/html/html/com_renms.htm), [**copys**](http://tcimg.dreamlair.net/TCIMG_ONLINE/html/html/com_copys.htm), [**moves**](http://tcimg.dreamlair.net/TCIMG_ONLINE/html/html/com_moves.htm) при переименовании однотипных имён (к примеру при увеличении чисел в имени).

?7!!Delim!!Parameters

**Преобразование строки с помощью шаблонов. Разделитель**.  
  **Delim** - разделитель (символ или строка).  
  **Parameters** - имена шаблонов для преобразования аналогично параметру formt<>, см. Дополнение [**№15**](http://tcimg.dreamlair.net/TCIMG_ONLINE/html/html/add/add_format.htm)  

---

Заданный разделитель в строке заменяется на перенос строки и данные передаются в параметр formt<>.  
После преобразования перенос заменяется на заданный разделитель.

#NSearch!!Enum

**Замена на счётчик**. Если фраза вначале или после разделителя || начинается с #N, то последующая строка параметра будет означать замену на отдельный счётчик каждой найденной подстроки **Search**!!**Enum**!!**Direction**!!**Registr**, где:  
  **Search** - "что искать"  
  **Enum** - строка "чем заменять", в которую в необходимом месте включается счётчик формата  
              **tnum**[Begin|Step|Numbers]  
              **enum**[Letter|Step|Numbers]  
        или **rndm**[Number|Length] см. описание [**ниже**](http://tcimg.dreamlair.net/TCIMG_ONLINE/html/html/add/add_lines.htm#TNUM)  
  необязательные параметры:  
  **Direction** - направление замены:  
    1 - справа (по умолчанию)  
   -1 - слева  
  **Registr** - чувствительности к регистру:  
    0 - не учитывать регистр (по умолчанию)  
    1 - учитывать

