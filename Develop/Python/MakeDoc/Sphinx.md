#make #doc #sphinx
### [Генератор документации Sphinx](https://sphinx-ru.readthedocs.io/ru/latest/sphinx.html)
[Python documentation generator](https://pypi.org/project/Sphinx/#files)

### [Установка Сфинкса](https://q-games.ru/kak-nastroit-sphinx-dlya-dokumentirovaniya-koda-python.html)

Перед установкой Sphinx убедитесь, что в вашей среде разработки установлен Python 3. Затем вы можете использовать диспетчер пакетов pip для установки Sphinx, выполнив следующую команду в своем терминале:
`pip install Sphinx`

Это загрузит и установит Sphinx и его зависимости.

После установки запустите в командной строке следующее.
 `sphinx-build --version`  
 
Если все работает нормально, вы должны увидеть номер версии только что установленного пакета Sphinx.
## Создание нового проекта Sphinx

После того, как вы установили Sphinx, перейдите в свой рабочий каталог и запустите команду sphinx-quickstart, чтобы создать новый проект Sphinx.
 `sphinx-quickstart`  
 

Эта команда предложит вам ответить на ряд вопросов о том, как настроить проект Sphinx. Вы можете указать название проекта и использовать параметры по умолчанию для других вопросов. В будущем вы можете настроить ответы в соответствии с вашим проектом.

Если вы перечислите содержимое своего каталога, вы увидите, что эта команда создает для вас некоторые файлы. conf.py содержит значения конфигурации, а index.rst служит страницей приветствия вашей документации. Каталог сборки будет содержать сгенерированную документацию, и Sphinx использует Makefile (make.bat в Windows) для сборки документации.

## Написание документации с использованием Sphinx

Файл index.rst в корне вашего каталога является домашней страницей вашего приложения. Итак, откройте его с помощью текстового редактора, такого как VS Code, или любого другого хорошего бесплатного редактора кода, чтобы отредактировать его.

Вы можете изменить index.rst по своему усмотрению, но одна вещь, которая должна быть, по крайней мере, это корневая директива toctree (дерево оглавления). Это очень важно, так как соединяет несколько файлов в единую иерархию документов.

Чтобы добавить документацию в файл index.rst, вы можете использовать разметку RST.

В качестве примера рассмотрим файл index.rst для модуля math_utils. Этот файл может включать краткий обзор назначения модуля и оглавление со ссылками на другие страницы документации.
```
 Welcome to Math Utils  
======================  
  
.. toctree::  
   :maxdepth: 2  
```
  
Getting Started  
---------------  
  
To use this module, you'll need the following:  
  
* Python installed.  
  
* A text editor  
  
Math Utils  
----------  
  
The `math-utils` module provides basic math functions like addition and  
subtraction.  
  

При необходимости вы можете добавить дополнительные файлы .rst. Например, вы можете создать руководство по внесению вклада в файл с именем содействие.rst, содержащий следующие указания по внесению вклада.

 Contributing Guide  
==================  
  
We welcome contributions to our project! Here are some guidelines for  
contributing:  
  
- Fork the project on GitHub.  
- Make your changes on a new branch.  
- Write tests to ensure that your changes work correctly.  
- Submit a pull request with your changes.  
- Make any requested changes.  
  
Thank you for contributing!  
 

Затем вы можете связать этот файл из index.rst, добавив новый раздел в директиву toctree:

```
 .. toctree::  
   :maxdepth: 2  
   :caption: Table of Contents  
     
   contributing  
```
 

Это создает новый элемент с именем «вклад» в оглавлении, при нажатии на который пользователь переходит на страницу вклада.
После того, как вы написали документацию, следующим шагом будет ее сборка. Здесь создание документации означает создание страниц HTML, руководств или PDF-файлов из файлов RST.

## Создание документации

Чтобы собрать документацию с помощью Sphinx, вам нужно запустить команду make html в корне вашей папки, где находится make-файл.
 `make html`  
 

Вы должны увидеть файлы HTML в папке сборки. Если при сборке были ошибки, Sphinx сообщит об этом в терминале.

Чтобы просмотреть документацию, откройте файл index.html в браузере:

Вы должны иметь возможность перейти к руководству по содействию из оглавления.

## Настройка документации

Прямо сейчас документация имеет базовый стиль. Если вы хотите настроить его, возможно, добавив цвета вашего бренда или даже добавив темный режим, вы можете установить и использовать другие встроенные темы или создать свою собственную тему.

Чтобы продемонстрировать, попробуйте изменить тему на ту, которая называется природа:

1. Откройте файл конфигурации Sphinx conf.py в каталоге вашего проекта Sphinx.
2. Найдите строку, определяющую параметр html_theme, и измените ее на характер
3. Сохраните файл конфигурации и перестройте документацию, чтобы увидеть ваши изменения.

Вот как должна выглядеть домашняя страница документации.

Если вы не хотите использовать встроенные темы, вы всегда можете использовать стороннюю тему Sphinx.

## Документирование кода с помощью строк документации

Sphinx генерирует вашу документацию Python из текста, который вы пишете в файлах RST. Хотя в некоторых случаях этого достаточно, вы также можете использовать строки документации в своем коде на уровне модуля.

Строки документации находятся непосредственно внутри исходных файлов вашего проекта. Они позволяют вам описать, что делает код, привести примеры и даже создать тесты для этих примеров. После того, как вы написали строки документации, вы можете сгенерировать из них документацию с помощью Sphinx.

#### [Делаем учебник или документацию за час на Сфинксе](https://habr.com/ru/articles/151129/)

