# Добавление собственного значка в Главное меню и на панель Unity

[https://help.ubuntu.ru/wiki/%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C_unity#%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D0%B0](https://help.ubuntu.ru/wiki/%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C_unity#%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D0%B0)

## Теория

Все значки, которые отображаются в Главном меню[1)](https://help.ubuntu.ru/wiki/%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C_unity#fn__1) и, соответственно, на панели Unity хранятся в двух директориях:

• `/usr/share/applications/`- общесистемные ярлыки приложений, видны всем пользователям;

• `~/.local/share/applications/`- ярлыки приложений, которые будут видны только одному пользователю.

Ярлык приложения представляет собой файл с расширением .desktop, в котором указываются все параметры запуска и отображения приложения. Полный синтаксис их написания описан [здесь](http://standards.freedesktop.org/desktop-entry-spec/desktop-entry-spec-latest.html).

Таким образом процедура добавления ярлыка своего приложения в Главное меню (и на панель Unity) сводится к созданию .desktop файла для своего приложения.

## Практика

Для начала необходимо определиться нужен ли нам ярлык для всех пользователей или только для одного. Если вы в системе единственный пользователь, рекомендую создавать ярлыки в домашней папке (`~/.local/share/applications/`), потому что нет проблем с доступом к этим файлам и ваши труды не потеряются при переустановке системы[2)](https://help.ubuntu.ru/wiki/%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C_unity#fn__2). В данном примере рассматривается случай создания .desktop файла в домашней папке, в противном случае необходимо заменить путь и редактировать файл от имени суперпользователя (к командам редактирования добавлять «sudo» без кавычек).

### Создание файла

Ниже приведен шаблон desktop файла, для добавление его себе в систему нажмите Alt+F2, введите команду[3)](https://help.ubuntu.ru/wiki/%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C_unity#fn__3)

gedit ~/.local/share/applications/my_app.desktopи вставьте в редактор следующее содержимое:

[Desktop Entry]

Name=

Comment=

GenericName=

Keywords=

Exec=

Terminal=false

Type=Application

Icon=

Path=

Categories=

NoDisplay=falseОписание значения записей:

◇ **Name**- имя приложения, которое будет отображаться под иконкой в Главном меню;

◇ **Comment**

◇ **GenericName**

◇ **Keywords**- слова, по которым будет искаться данный ярлык в Главном меню;

◇ **Exec**- путь к вашему приложению;

◇ **Terminal**- (**true** или **false**)- запускать или нет приложение в окне терминала[4)](https://help.ubuntu.ru/wiki/%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C_unity#fn__4);

◇ **Type**- определяет «раздел» в Главном меню, где будет находится ярлык приложения;

◇ **Icon**- путь или общесистемное название иконки;

◇ **Path**- путь к рабочему каталогу приложения[5)](https://help.ubuntu.ru/wiki/%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C_unity#fn__5);

◇ **Categories**- категории, к которым будет относится ярлык вашего приложения при выборе в Главном меню фильтров. Я не знаю как посмотреть полный список доступных категорий, поэтому проще всего подсмотреть в ярлыке другого приложения, категория которого вам подходит.

◇ **NoDisplay**(true или false)- Не отображать иконку в Главном меню;

Строки **Name** и **Exec**- обязательны, остальные строки можно не заполнять и оставить пустыми!

После редактирования данный файл должен выглядеть так:

[Desktop Entry]

Name=Моё приложение

Comment=Моя замечательная программа

GenericName=Тестовая программа

Keywords=Тест;Для wiki;Vjt_ghbkj;Lkz wiki;

Exec=/usr/bin/gnome-terminal

Terminal=false

Type=Application

Icon=/home/speranza/Игры/Rocksndiamonds/graphics/gfx_classic/19032.png

Categories=

Path=/путь/к/директории/с/исполняющим/файлом

NoDiplay=falseКак видите в примере выше, строку Keywords нужно заполнить словами, по которым вы, вероятнее всего будете это приложение в последствии искать, разделенными точкой с запятой. При этом можно написать эти же слова в «неправильной» раскладке.