# ОБЗОР SNAP VS FLATPAK VS APPIMAGE

https://losst.pro/obzor-snap-vs-flatpack-vs-appimage

За последние несколько лет Linux очень сильно продвинулся на пути к обычным пользователям. Изменялся и упрощался интерфейс, добавлялись графические утилиты, исправлялись ошибки и недоработки, дистрибутивы становились лучше. Но теперь изменения добрались до системы установки пакетов. Традиционный способ устанавливать программы - загрузка и установка с репозиториев вашего дистрибутива. Причем форматы пакетов, способы развертывания и даже версии библиотек между дистрибутивами очень отличаются. Это не позволяло скачать программу из интернета и запускать ее на любом linux дистрибутиве.

Но за последние пару лет был сделан шаг и в этом направлении. Были созданы портативные приложения, которые устанавливаются одним файлом, вместе со всеми своими зависимостями и поэтому могут работать абсолютно в любом дистрибутиве, независимо от установленных там программ и библиотек. Сначала энтузиастами был разработан формат AppImage, который представляет из себя ISO образ со всеми файлами программы, затем разработчики Gnome переименовали и взялись за развитие своей платформы контейнерного запуска приложений Flatpak, и примерно в то же время компания Canonical реализовала систему установки пакетов без зависимостей - Snap, которая, как и все предыдущие, может использоваться в любом дистрибутиве.  

Содержание статьи:

-   [Чем отличается Snap vs Flatpak vs AppImage?](https://losst.pro/obzor-snap-vs-flatpack-vs-appimage#%D0%A7%D0%B5%D0%BC_%D0%BE%D1%82%D0%BB%D0%B8%D1%87%D0%B0%D0%B5%D1%82%D1%81%D1%8F_Snap_vs_Flatpak_vs_AppImage "Чем отличается Snap vs Flatpak vs AppImage?")
    -   [Что такое Snap?](https://losst.pro/obzor-snap-vs-flatpack-vs-appimage#%D0%A7%D1%82%D0%BE_%D1%82%D0%B0%D0%BA%D0%BE%D0%B5_Snap "Что такое Snap?")
-   [Что такое AppImage?](https://losst.pro/obzor-snap-vs-flatpack-vs-appimage#%D0%A7%D1%82%D0%BE_%D1%82%D0%B0%D0%BA%D0%BE%D0%B5_AppImage "Что такое AppImage?")
-   [Что такое Flatpak?](https://losst.pro/obzor-snap-vs-flatpack-vs-appimage#%D0%A7%D1%82%D0%BE_%D1%82%D0%B0%D0%BA%D0%BE%D0%B5_Flatpak "Что такое Flatpak?")
-   [Выводы](https://losst.pro/obzor-snap-vs-flatpack-vs-appimage#%D0%92%D1%8B%D0%B2%D0%BE%D0%B4%D1%8B "Выводы")

## ЧЕМ ОТЛИЧАЕТСЯ SNAP VS FLATPAK VS APPIMAGE?

Как видите, в последнее время было создано очень много решений портативных программ Linux и пора разобраться что лучше и что все-таки использовать. В этой статье мы сравним snap vs flatpak vs appimage. Это самые популярные и известные технологии, хотя были и другие. Попытаемся выяснить у кого больше перспектив для развития, но сначала выясним, что представляет из себя каждая из этих технологий.

### ЧТО ТАКОЕ SNAP?
О Snap пакетах мы слышали уже давно, сначала они использовались для встраиваемых устройств и в качестве механизма обновления Ubuntu для смартфонов. Как заявляют разработчики из Canonical эта технология была создана изначально для того, чтобы предоставить максимальную удобность обновления пользователям Ubuntu и поднять на новый уровень безопасность мобильных приложений. Основная задача - решить проблемы, неразрешимые для deb и rpm пакетов и обеспечить надежное обновление.

Все файлы программы и ее зависимостей упаковываются в один файл, включая исполняемые файлы, файлы конфигурации и нужные библиотеки. В этом плане snap vs flatpack мало чем отличаются. Пакет устанавливается в отдельном каталоге, в домашней папке пользователя и программа может иметь доступ только к этому каталогу. Поэтому программа не может создать проблем в вашей системе, заменив важные файлы других пакетов.

Программа, упакованная в snap, выполняется в изолированном окружении, ей недоступны никакие библиотеки из системы и даже конфигурационные файлы. Это реализуется с помощью профилей AppArmor. Она может работать только с тем, что установлено в пакете. Домашняя папка программы тоже в её директории. Для общения с X сервером, файловой системой, окружением рабочего стола и другими компонентами используются интерфейсы, предоставляемые главным пакетом - ubuntu-core. Если программе не разрешить доступ к этим интерфейсам она не сможет работать. Чтобы предоставить доступ программе к файлам пользователя тоже нужно использовать соответствующий интерфейс - home.

На данный момент Snap пакеты работают кроме Ubuntu, на Arch, Debian и Fedora. Также выполняется подготовка образов для Red Hat, CentOS, Elementary, LinuxMint, Gentoo, OpenSUSE. Более подробно про управление Snap пакетами читайте [здесь](https://losst.pro/ustanovka-snap-paketov-ubuntu).

Для [создания snap пакетов](https://losst.pro/kak-sozdat-snap-paket-ubuntu-16-04) используется специальный инструмент - snapcraft. Он позволяет относительно легко создать пакет для любой платформы. Для сборки программы нужно описать ее и необходимые зависимости в файле snapcraft.yaml и этот процесс немного сложный. Если сравнивать snap vs AppImage, то там все чуть проще, но и нет такого уровня безопасности. Но в целом это довольно интересная технология, благодаря возможностям безопасности.

## ЧТО ТАКОЕ APPIMAGE?
Про Appimage мы услышали еще в 2011 году, но тогда программа не набрала популярности несмотря на все ее плюсы по сравнению с традиционными системами упаковки программ.

Здесь, также как и в snap программа упаковывается со всеми своими зависимостями в один файл. Никаких дополнительных файлов, одно приложение - один файл. Для запуска программы не нужно ничего устанавливать, просто скачайте программу из интернета, сделайте исполняемой и запустите. Все. Никакие файлы из корневой файловой системы не будут изменены.

Образ Appimage представляет из себя обычный ISO образ, в котором находятся все необходимые компоненты программы, при запуске он автоматически монтируется и выполняется программа. Поскольку для запуска не нужно никакого программного обеспечения в системе, эта технология может использоваться абсолютно в любом дистрибутиве. Хотя для запуска программы не требуются права root, тут уже нет такого уровня безопасности, программа может спокойно работать с файлами пользователя, как и другие обычные программы, а если каких-нибудь библиотек в образе недостает, программа загружает их из системы. Подробнее про AppImage читайте [тут](https://losst.pro/portativnye-programmy-v-linux).

Для создания AppImage используется утилита appimagetool. Перед использованием инструмента вам необходимо скопировать все файлы и библиотеки, необходимые программе в специальную папку и сделать конфигурационный файл. Если делать сравнение Flatpak vs AppImage, то там все как-то более организовано и не нужно засорять свою систему.

## ЧТО ТАКОЕ FLATPAK?
Flatpak - это тоже относительно новая система технология портативных приложений, поддерживаемых в любом дистрибутиве, созданная командой разработчиков GNOME. Раньше этот формат пакетов назывался XDG, но потом был переименован во избежание конфликтов. Он разработан, чтобы изолировать приложения от вашей системы и один от другого. Работает все больше похоже на Snap чем на AppImage. Приложение тоже выполняется в изолированном контейнере, что обеспечивает максимальную безопасность. Но подход к библиотекам здесь немного отличается. Они могут находиться в одном пакете вместе с приложением, или же находится в окружениях, общих для нескольких пакетов, такой подход гибче чем snap, и позволяет программе занимать не так много места.

В отличие от Snap, Flatpak ориентирован больше на децентрализацию. Здесь нет одного центрального репозитория или контролирующего органа. Snap пакеты контролируются Canonical, и чтобы добавить свой пакет в репозиторий нужно подписать соглашение. Flatpak работает подобно тому, как PPA в Ubuntu. Вы находите репозиторий, подключаете в систему и можете устанавливать оттуда программы.

Flatpak можно использовать в большинстве дистрибутивов, так же как и Snap. Создавать Flatpack пакеты можно подобным образом, как и snap. Тоже нужно отредактировать файл конфигурации, правда тут все немного проще. Про установку и использование Flatpak читайте [здесь](https://losst.pro/kak-ustanovit-flatpak).

## ВЫВОДЫ

Мы рассмотрели Snap vs Flatpak vs AppImage. Уже сейчас можно, сказать, что AppImage отходит на задний план и гонка за лидерство происходит между Snap и Flatpak. Appimage предоставляет простоту запуска программ, но здесь нет таких важных возможностей, как безопасность, а без этого сейчас никуда. Flatpak разрабатывается командой Gnome, и у них интересная затея, но за Snap взялась компания Canonical, они будут использовать эту технологию не только для обычных компьютеров, но и для серверных решений. Что будет лучше и более удобно пользователям покажет время. А вы используете портативные приложения?

# [Extract icon from appimage](https://askubuntu.com/questions/1115321/extract-icon-from-appimage)

## Manually

If you insist to do this manually, you can run (in a terminal!):

```
 ./your.AppImage --appimage-extract
```

This will create a sub-directory called _`squashfs-root`_ and extract the _complete_ contents of the bundle there. Here you should find what you are looking for.

**Warning:** this will only work if the AppImage is of type 2 (following the newer AppImage spec). For AppImage type 1, you have to mount the AppImage manually and then copy the icon file from the mounted directory tree:

```
mkdir /tmp/mountpoint
sudo mount -o loop your.AppImage /tmp/mountpoint
```

---

If the icon is missing, the packager of the AppImage did not bother to include it. Complain with him/her then.

![[[Desktop Entry]
Version=1.0
Name=Obsidan
Comment=Start Obsidan Organizer
Exec=/home/vil/bin/Obsidian-1.0.0.AppImage --no-sandbox %U
Icon=obsidian
Terminal=false
Type=Application
StartupWMClass=obsidian
X-AppImage-Version=1.0.0
Comment=Obsidian
MimeType=x-scheme-handler/obsidian;
Categories=Office;]]


# Как пользоваться AppImage в Linux (Полное руководство)

[Alexey](https://zalinux.ru/?author=1 "Записи Alexey") 05.10.2018 [16](https://zalinux.ru/?p=2147#comments) [Для новичков](https://zalinux.ru/?cat=3) [AppImage](https://zalinux.ru/?tag=appimage)

---

_Источник: [https://itsfoss.com/use-appimage-linux/](https://itsfoss.com/use-appimage-linux/)_

**Краткая информация: это инструкция по AppImage, которая покажет, как использовать AppImage для установки программного обеспечения и как удалить установленные программы.**

Имеются разные способы установки программного обеспечения в Ubuntu или в другие дистрибутивы Linux. Их можно установить в Магазине приложений, через менеджер пакетов, в командной строке. Некоторые пакеты отсутствуют в стандартных репозиториях, поэтому один из простых способов их установки это скачать .deb или .rpm файлы, запустить их двойным кликом и установить программное обеспечение

Вы могли обратить внимание, что последнее время некоторые приложения распространяются с расширением .appimage. Возможно, вы не знаете, что такое файлы .appimage.

В этом руководстве я покажу вам, что такое AppImage и как использовать AppImage для установки приложений в Linux. В дополнении к этому я расскажу вам несколько вещей, которые вы должны помнить используя AppImage.

## Что такое AppImage?  

На протяжении многих лет у нас есть DEB пакеты для дистрибутивов Linux, основанных на Debian/Ubuntu, и RPM пакеты для дистрибутивов Linux, основанных на Fedora/SUSE.

Хотя эти пакеты обеспечивают удобный способ установки программного обеспечения для пользователей этих операционных систем, для разработчиков приложений это не очень удобно. Разработчики должны создать несколько пакетов для разных дистрибутивов. И здесь на арену выходит AppImage.

AppImage — это универсальный формат пакетов программного обеспечения. Упаковывая программное обеспечение в AppImage, разработчик предоставляет всего лишь один файл «полностью готовый к употреблению». Конечный пользователь, такой как вы, можете использовать его на большинстве (если не на всех) современных дистрибутивах Linux

### AppImage не устанавливает программы в обычном понимании  

Типичное программное обеспечение Linux создаст несколько файлов в различных местах, для этого требуются права root для внесения изменений в систему.

AppImage не делает этого. На самом деле, AppImage вообще в действительности не устанавливает программное обеспечение. Это сжатый образ со всеми зависимостями и библиотеками, необходимыми для запуска желаемого программного обеспечения.

Исполняя файл AppImage, вы запускаете программу. Не происходит ни извлечения, ни установки. Как только вы удаляете файл AppImage, программное обеспечение удаляется (об этом немного позже). Вы можете сравнить это с файлами .exe и портативными программами в Windows, которые позволяют вам запускать программное обеспечение без прохождения процесса установки.

Перечислим некоторые из особенностей и преимуществ, которые привносит AppImage.

Особенности AppImage:

-   Не зависит от дистрибутива: может запускаться на различных дистрибутивах Linux
-   Не нужно устанавливать и компилировать программы: Просто кликните и пользуйтесь
-   Не нужны права root: Системные файлы не затрагиваются
-   Портативность: Может запускаться откуда угодной, в том числе и с Live дисков
-   Приложения в режиме «только чтение»
-   Программное обеспечение удаляется простым удалением файла AppImage
-   Приложения, упакованные в AppImage, по умолчанию не в песочнице

## Как использовать AppImage в Linux  

Использование AppImage крайне простое. Всё происходит в 3 простых шага:

-   Скачиваем файл AppImage
-   Делаем его исполнимым (или распаковываем из архива, если он распространяется в архиве)
-   Запускаем его

Я подробно покажу, как запустить AppImage.

## Шаг 1: Загрузите пакет .appimage  

Имеется множество программного обеспечения в формате AppImage: GIMP, Krita, Scribus и OpenShot это всего лишь несколько примеру. [Здесь](https://appimage.github.io/apps/) вы можете найти большой список приложений, доступных в формате AppImage.

Я покажу на примере [Eqonomize](https://github.com/Eqonomize/Eqonomize/releases) — приложение, для учёта личных финансов. Загружаем его с сайта.

## Шаг 2: Делаем его исполнимым  

По умолчанию файлы AppImage не имеют разрешения на выполнение. Вам нужно изменить разрешения на файл, сделав его исполнимым. Чтобы это сделать не нужны права root.

Если вы предпочитаете графический способ, просто кликните правой кнопкой на скаченном файле .appimage и выберите **Свойства**/**Properties**:

---

[![](https://zalinux.ru/wp-content/uploads/2018/10/92.png)](https://zalinux.ru/wp-content/uploads/2018/10/92.png)

---

На следующем экране перейдите во вкладку Права/Permissions и установите галочку на **Разрешить исполнять как программу/Allow executing file as program**:

[![](https://zalinux.ru/wp-content/uploads/2018/10/93.png)](https://zalinux.ru/wp-content/uploads/2018/10/93.png)

Вот и всё! Есть альтернативный способ сделать файл исполнимым.

Если вы предпочитаете командную строку, вы просто можете использовать команду

1

`chmod` `u+x <Файл AppImage>`

чтобы сделать его исполнимым

## Шаг 3: Запуск файла AppImage  

После того, как вы сделали файл AppImage исполнимым, просто откройте его двойным кликом по нему. Запустится программа как будто бы вы её установили на вашу систему. Здорово, не так ли?

[![](https://zalinux.ru/wp-content/uploads/2018/10/94.png)](https://zalinux.ru/wp-content/uploads/2018/10/94.png)

## Как удалить программу AppImage  

Поскольку программа никогда не устанавливается, нет нужды её «деинсталяции». Просто удалите соответствующий файл AppImage и эта программа будет полностью удалена с вашей системы.

## Что нужно помнить при использовании AppImage в Linux  

Есть несколько дополнительных моментов о AppImage, которые вы должны знать.

### 1. Интеграция с рабочим столом  

Когда вы запускаете файл AppImage, некоторые программы могут предложить вам «установить ярлык», если вы выберите Да, ваш AppImage будет интегрирован в вашу систему Linux как установленное обычным образом приложение.

---

Это означает, что вашу программу можно будет найти через интерфейс Unity или GNOME. Вы можете найти её в меню и закрепить в избранных или на панели быстрого запуска.

### 2. Интеграция с рабочим столом может требовать ручную очистку и удаление  

Если вы выбрали интеграцию с рабочим столом, в вашей системе будет создано несколько файлов. Размер этих файлов будет всего несколько килобайт. Когда вы удаляете файл AppImage, эти файлы останутся в вашей системе. Вы можете оставить их или удалить вручную.

### 3. Выберите, где размещены ваши файлы AppImage  

Скаченные файлы AppImage будут сохраняться в папку Загрузи/Download. Но это может быть не самым лучшем местом для хранения этих файлов, поскольку со временем она имеет свойство загромождаться. Лучше хранить их в специально выделенной для них папке для упрощения управлениям ими.

Также помните, что если вы выбрали интеграцию с рабочим столом и переместили файл AppImage в какое-то другое расположение, вы также должны удалить эти десктопные файлы, в противном случае интеграция с рабочим столом не будет работать.

### 4. Автоматического обновления нет  

Некоторые программы будут самостоятельно проверять наличие обновлений и уведомлять вас о доступности новой версии. Но это делают далеко не все приложения.

Иногда у программ имеются опции командной строки для проверки и обновления программ, но это слишком зависит от разработчика, позаботился он о такой опции или нет.

Короче говоря, здесь нет автоматического обновления. Вам самостоятельно нужно узнать, имеется ли новая версия программы и загрузить ей.

## Заключение  

AppImage это уже не первая попытка сделать «универсальное приложение Linux», также имеются Snap от Ubuntu и Flatpak от Fedora. Эта статья только об AppImage, поэтому здесь не рассматривается противопоставление этих вариантов.

Если программа имеется в стандартном репозитории вашей системы Linux, то лучший вариант это установить её оттуда, поскольку вам не нужно заботиться об обновлениях. Если разработчики вашего дистрибутива не добавили нужную вам программу, либо вы хотите иметь портативную версию или сразу несколько версий одной программы, то AppImage это удобный способ.

AppImage это удобный способ попробовать новую программу не захламляя свою систему, либо быстро получить нужную программу без необходимости решения проблем с зависимостями либо компиляцией из исходного кода.

Что вы думаете по поводу AppImage? Нравится ли вам использовать AppImage в Linux по сравнению с другими форматами? Поделитесь своими наблюдениями в комментариях ниже.

