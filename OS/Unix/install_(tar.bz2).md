## Установка программ из tar.bz2 (исходных кодов)

[http://shkola-linux.ru/articles/72-ustanovka-programm-iz-tarbz2.html](http://shkola-linux.ru/articles/72-ustanovka-programm-iz-tarbz2.html)

Здравствуйте! После долгого перерыва я возвращаюсь опять к написанию статей. И в этой статье я хочу рассказать вам как можно установить программу из файлов форматом tar.bz2. Сначала вкратце расскажу что это такое. Tar.bz2 представляет собой сжатый архив, с сохранением прав для всех файлов. Если быть более точным, то это не один архив, а целых два. Сначала файлы архивируются с помощью tar (без сжатия) - отсюда и tar в названии архива, а потом еще архив tar сжимается при помощи bzip2. Выглядит это вроде нашей русской матрешки, архив запаковывается в другой архив. В архиве tar.bz2 обычно хранятся исходные тексты программ. Выглядит это вроде нашей русской матрешки, архив запаковывается в другой архив. В архиве tar.bz2 обычно хранятся исходные тексты программ. Но так бывает не всегда, иногда в этом архиве хранятся и уже скомпилированные бинарные файлы. Чтобы нам начать устанавливать программу из этого формата, нам сначала необходимо распаковать его. Я хочу рассказать вам об установке Midnight Commander (консольный файловый менеджер) из этого формата. Для этого нам потребуется сам архив, который вам будет необходимо скачать по ссылке: http://www.midnight-commander.org/downloads/mc-4.7.5.1.tar.bz2 Я сохранил его в домашней папке. Далее начинаем распаковку, для этого в терминале набираем:

`bzip2 -d mc-4.7.5.1.tar.bz2`
- расжимаем скачанный **пакет**

После этой процедуры у нас должен появиться файл mc-4.7.5.1.tar, как уже заметно, окончание bz2 исчезло, значит мы его расжали.

Далее распаковыаем этот архив:
`tar xfv mc-4.7.5.1.tar`

Все, у нас все файлы из архива распаковались в каталог mc-4.7.5.1, поэтому заходим в него:
`cd  mc-4.7.5.1`

И смотрим, что у нас там появилось:
`ls`

Как видно, что здесь у нас находятся исходные тексты MC. Далее нам необходимо внимательно просмотреть два файла: README и INSTALL.
`gedit INSTALL`
`gedit README`

Внимательно просмотрим их. В них содержится информация о требованиях, как правильно компилировать и устанавливать эту программу. Далее запускаем исполняемый файл configure (на рисунке обозначен зеленым цветом):
`./configure`

Эта команда сконфигурирует исходные тексты под ваш дистрибутив linux. У меня эта команда в конце выдала такую ошибку, у вас ее может и не быть, а может быть совершенно другая, все зависит от версии вашего дистрибутива:

 configure: error: glib-2.0 not found or version too old (must be >= 2.8)

В этой ошибке сказано, что отсутствует библиотека libglib2.0-dev. Чтобы исправить эту ошибку пришлось доустановить эту библиотеку:
`sudo apt-get install libglib2.0-dev`

После установки этой библиотеки надо еще раз запустить configure. Но и на этот раз появилась ошибка:

 configure: error: S-Lang library version 2.0 or newer not found

Поэтому доустанавливаем и эту библиотеку:
`sudo apt-get install libslang2-dev`

После этого еще раз запускаем configure и на этот раз все прошло удачно. Поэтому далее мы начнем выполнять компилирование:
`make`

Эта команда обычно занимает много времени, поэтому вы спокой сможете поставить чайник и заварить ароматный кофе, чтоб скрасить свое ожидание. После компиляции необходимо установить эту программку. Для этих целей можно воспользоваться командой:
`make install`

После выполения этой команды, если она выполнилась без ошибок, можно свободно будет запустить нашу программу:
`mc`

Но команда make install может нарушить работоспособность вашей системы. В linux для этого есть специальная утилита checkinstall, которая преобразует вашу программу в пакет, родной для вашего дистрибутива (rpm, deb). Я воспользуюсь этой утилитой, но для начала я ее установлю:
`sudo apt-get install checkinstall`

Так как мне необходим именно дебиановский пакет, то мне будет необходимол указать это в параметре утилиты checkinstall, кстати замечу, что эту команду нам необходимо запустить от root`а:
`sudo checkinstall -D`

Вас там попросят ввести описание пакета, после чего начнется создание пакеты и его установка. Также в этой директории вы сможете найти сам пакет,
который вы сможете скопировать себе куда угодно. Вот в принципе и вся установка.